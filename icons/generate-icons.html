<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate Hacker Storage Icons</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'SF Mono', 'Fira Code', Consolas, monospace;
      max-width: 900px;
      margin: 50px auto;
      padding: 20px;
      background: #0a0a0f;
      color: #00ff88;
    }
    h1 { 
      color: #00ff88;
      text-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
      font-weight: 400;
    }
    h1::before { content: '> '; opacity: 0.5; }
    .subtitle {
      color: #666;
      font-size: 14px;
      margin-bottom: 30px;
    }
    .icons { 
      display: flex; 
      gap: 24px; 
      flex-wrap: wrap; 
      margin: 30px 0; 
    }
    .icon-item {
      text-align: center;
      background: linear-gradient(145deg, #0f1419 0%, #151921 100%);
      padding: 24px;
      border-radius: 12px;
      border: 1px solid #1e293b;
    }
    .icon-item:hover {
      border-color: #00ff88;
      box-shadow: 0 0 20px rgba(0, 255, 136, 0.2);
    }
    canvas { 
      display: block; 
      margin: 0 auto 12px;
      border-radius: 8px;
    }
    .size { 
      font-size: 11px; 
      color: #64748b; 
      margin-bottom: 12px;
      font-family: monospace;
    }
    button {
      background: linear-gradient(135deg, #00ff88 0%, #00d4ff 100%);
      color: #0a0a0f;
      border: none;
      padding: 10px 18px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 600;
      font-family: inherit;
      transition: all 0.2s;
    }
    button:hover { 
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 255, 136, 0.4);
    }
    .instructions {
      background: #151921;
      padding: 24px;
      border-radius: 12px;
      margin-top: 30px;
      border: 1px solid #1e293b;
    }
    .instructions h3 { 
      margin-top: 0; 
      color: #00d4ff;
      font-weight: 400;
    }
    .instructions h3::before { content: '// '; opacity: 0.5; }
    code {
      background: #0a0a0f;
      padding: 2px 8px;
      border-radius: 4px;
      color: #a855f7;
      font-size: 13px;
    }
    ol { 
      color: #94a3b8;
      line-height: 1.8;
    }
    li::marker { color: #00ff88; }
    .preview-row {
      display: flex;
      align-items: center;
      gap: 16px;
      margin: 20px 0;
      padding: 16px;
      background: #0f1419;
      border-radius: 8px;
    }
    .preview-label {
      color: #64748b;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <h1>Storage Inspector Icons</h1>
  <p class="subtitle">Hacker-style database icons with matrix aesthetic</p>
  
  <div class="preview-row">
    <span class="preview-label">Preview at different sizes:</span>
    <div id="previewSizes"></div>
  </div>
  
  <div class="icons" id="icons"></div>
  
  <div class="instructions">
    <h3>Instructions</h3>
    <ol>
      <li>Click each <strong>Download</strong> button to save the icon</li>
      <li>Save files to the <code>icons</code> folder</li>
      <li>Required files: <code>icon16.png</code>, <code>icon32.png</code>, <code>icon48.png</code>, <code>icon128.png</code></li>
      <li>Reload the extension in <code>chrome://extensions</code></li>
    </ol>
  </div>

  <script>
    const sizes = [16, 32, 48, 128];
    
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const s = size; // shorthand
      
      // Clear
      ctx.clearRect(0, 0, s, s);
      
      // Background with gradient
      const bgGrad = ctx.createLinearGradient(0, 0, s, s);
      bgGrad.addColorStop(0, '#0a0f14');
      bgGrad.addColorStop(0.5, '#0f1419');
      bgGrad.addColorStop(1, '#0a0a0f');
      
      // Rounded rectangle background
      const radius = s * 0.18;
      ctx.beginPath();
      ctx.moveTo(radius, 0);
      ctx.lineTo(s - radius, 0);
      ctx.quadraticCurveTo(s, 0, s, radius);
      ctx.lineTo(s, s - radius);
      ctx.quadraticCurveTo(s, s, s - radius, s);
      ctx.lineTo(radius, s);
      ctx.quadraticCurveTo(0, s, 0, s - radius);
      ctx.lineTo(0, radius);
      ctx.quadraticCurveTo(0, 0, radius, 0);
      ctx.closePath();
      ctx.fillStyle = bgGrad;
      ctx.fill();
      
      // Border glow
      ctx.strokeStyle = '#00ff88';
      ctx.lineWidth = Math.max(1, s * 0.02);
      ctx.shadowColor = '#00ff88';
      ctx.shadowBlur = s * 0.1;
      ctx.stroke();
      ctx.shadowBlur = 0;
      
      // Scanlines
      ctx.fillStyle = 'rgba(0, 255, 136, 0.02)';
      for (let i = 0; i < s; i += 2) {
        ctx.fillRect(0, i, s, 1);
      }
      
      // Draw database icon
      const cx = s / 2;
      const padding = s * 0.18;
      const dbWidth = s * 0.55;
      const dbHeight = s * 0.12;
      
      ctx.strokeStyle = '#00ff88';
      ctx.lineWidth = Math.max(1.2, s * 0.045);
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
      
      // Glow effect
      ctx.shadowColor = '#00ff88';
      ctx.shadowBlur = s * 0.08;
      
      // Top ellipse (database top)
      const topY = padding + dbHeight;
      ctx.beginPath();
      ctx.ellipse(cx, topY, dbWidth / 2, dbHeight, 0, 0, Math.PI * 2);
      ctx.stroke();
      
      // Middle section
      const midY = topY + s * 0.22;
      ctx.beginPath();
      ctx.moveTo(cx - dbWidth/2, topY);
      ctx.lineTo(cx - dbWidth/2, midY);
      ctx.ellipse(cx, midY, dbWidth / 2, dbHeight, 0, Math.PI, Math.PI * 2);
      ctx.moveTo(cx + dbWidth/2, topY);
      ctx.lineTo(cx + dbWidth/2, midY);
      ctx.stroke();
      
      // Bottom section  
      const botY = midY + s * 0.22;
      ctx.beginPath();
      ctx.moveTo(cx - dbWidth/2, midY);
      ctx.lineTo(cx - dbWidth/2, botY);
      ctx.ellipse(cx, botY, dbWidth / 2, dbHeight, 0, Math.PI, Math.PI * 2);
      ctx.moveTo(cx + dbWidth/2, midY);
      ctx.lineTo(cx + dbWidth/2, botY);
      ctx.stroke();
      
      ctx.shadowBlur = 0;
      
      // Data points (binary/matrix effect)
      if (size >= 32) {
        ctx.fillStyle = '#00ff88';
        ctx.shadowColor = '#00ff88';
        ctx.shadowBlur = s * 0.05;
        
        const dotSize = Math.max(1.5, s * 0.04);
        const dots = [
          { x: cx - s*0.12, y: topY + s*0.12, opacity: 0.9 },
          { x: cx + s*0.12, y: topY + s*0.12, opacity: 0.7 },
          { x: cx, y: midY + s*0.03, opacity: 0.8 },
          { x: cx - s*0.15, y: midY + s*0.12, opacity: 0.6 },
          { x: cx + s*0.15, y: midY + s*0.12, opacity: 0.9 },
          { x: cx - s*0.08, y: botY + s*0.02, opacity: 0.7 },
          { x: cx + s*0.08, y: botY + s*0.02, opacity: 0.8 },
        ];
        
        dots.forEach(dot => {
          ctx.globalAlpha = dot.opacity;
          ctx.beginPath();
          ctx.arc(dot.x, dot.y, dotSize, 0, Math.PI * 2);
          ctx.fill();
        });
        
        ctx.globalAlpha = 1;
        ctx.shadowBlur = 0;
      }
      
      // Add subtle data stream effect for larger icons
      if (size >= 48) {
        ctx.strokeStyle = 'rgba(0, 255, 136, 0.3)';
        ctx.lineWidth = 1;
        
        // Vertical data lines
        for (let i = 0; i < 3; i++) {
          const x = cx - s*0.2 + i * s*0.2;
          const lineY = topY - s*0.05;
          ctx.beginPath();
          ctx.moveTo(x, lineY);
          ctx.lineTo(x, lineY - s*0.08);
          ctx.stroke();
        }
      }
    }
    
    function createIconItem(size) {
      const container = document.createElement('div');
      container.className = 'icon-item';
      
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      
      // Display size (minimum 64px for visibility)
      const displaySize = Math.max(size, 64);
      canvas.style.width = displaySize + 'px';
      canvas.style.height = displaySize + 'px';
      if (size < 64) {
        canvas.style.imageRendering = 'pixelated';
      }
      
      drawIcon(canvas, size);
      
      const sizeLabel = document.createElement('div');
      sizeLabel.className = 'size';
      sizeLabel.textContent = `${size}Ã—${size}px`;
      
      const downloadBtn = document.createElement('button');
      downloadBtn.textContent = `icon${size}.png`;
      downloadBtn.onclick = () => {
        const link = document.createElement('a');
        link.download = `icon${size}.png`;
        link.href = canvas.toDataURL('image/png');
        link.click();
      };
      
      container.appendChild(canvas);
      container.appendChild(sizeLabel);
      container.appendChild(downloadBtn);
      
      return container;
    }
    
    // Create preview row
    const previewContainer = document.getElementById('previewSizes');
    sizes.forEach(size => {
      const canvas = document.createElement('canvas');
      canvas.width = size;
      canvas.height = size;
      canvas.style.width = size + 'px';
      canvas.style.height = size + 'px';
      if (size < 32) {
        canvas.style.imageRendering = 'pixelated';
      }
      drawIcon(canvas, size);
      previewContainer.appendChild(canvas);
    });
    
    // Create download items
    const iconsContainer = document.getElementById('icons');
    sizes.forEach(size => {
      iconsContainer.appendChild(createIconItem(size));
    });
  </script>
</body>
</html>
